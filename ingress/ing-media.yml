  apiVersion: networking.k8s.io/v1 
  kind: Ingress
  metadata:
    annotations:
      kubernetes.io/ingress.class: nginx
      certmanager.io/cluster-issuer: letsencrypt-staging
    name: media
    namespace: media
  spec:
    rules:
      - host: sonarr.steenkamps.org
        http:
          paths:
            - pathType: Prefix
              path: /
              backend:
                service:
                  name: sonarr
                  port: 
                    number: 8989
      - host: sabnzbd.steenkamps.org
        http:
          paths:
            - pathType: Prefix
              path: /              
              backend:
                service:
                  name: sabnzbd
                  port: 
                    number: 8080
      - host: library.steenkamps.org
        http:
          paths:
            - pathType: Prefix
              path: /              
              backend:
                service:
                  name: library
                  port: 
                    number: 5299
    tls:
    - hosts:
      - sonarr.steenkamps.org
      - sabnzbd.steenkamps.org
      - library.steenkamps.org
      secretName: default-tls-secret


      # extensions/v1beta1 Ingress is deprecated in v1.14+, unavailable in v1.22+; use networking.k8s.io/v1 Ingress
